<div
  class="search-component"
  (click)="searchFieldExpanded = true; searchInput.focus()"
  (focusout)="searchFieldExpanded = false"
>
  <a class="fas fa-search search-icon"></a>
  <mat-form-field
    class="search-input"
    [class.expanded]="searchFieldExpanded"
    appearance="standard"
  >
    <input
      type="text"
      placeholder="Search"
      matInput
      #searchInput
      [matAutocomplete]="auto"
      (input)="search(searchInput.value)"
    >
    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
      <mat-optgroup [label]="'Movies'">
        <mat-option
          *ngFor="let movie of movies$ | async"
          [value]="movie.title"
          (click)="updateMovieTitle(movie.title)"
        >
          {{movie.title}}
        </mat-option>
      </mat-optgroup>
      <mat-optgroup [label]="'Cinemas'">
        <mat-option
          *ngFor="let cinema of cinemas$ | async"
          [value]="cinema.name"
          (click)="updateCinemaName(cinema.name)"
        >
          {{cinema.name}}
        </mat-option>
      </mat-optgroup>
    </mat-autocomplete>
  </mat-form-field>
</div>
